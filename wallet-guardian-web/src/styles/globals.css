@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  --background: oklch(100% 0 0);
  --secondary-background: oklch(100% 0 0);
  --foreground: oklch(0% 0 0);
  --main-foreground: oklch(0% 0 0);
  --main: oklch(78.57% 0.1422 180.36);
  --border: oklch(0% 0 0);
  --ring: oklch(0% 0 0);
  --overlay: oklch(0% 0 0 / 0.8);
  --shadow: 8px 8px 0px 0px var(--border);
  --shadow-sm: 4px 4px 0px 0px var(--border);
  --shadow-lg: 10px 10px 0px 0px var(--border);
  --chart-1: #00d6bd;
  --chart-2: #0099ff;
  --chart-3: #7a83ff;
  --chart-4: #ff4d50;
  --chart-5: #facc00;
  --chart-active-dot: #000;
  
  /* Brutalist severity colors */
  --severity-critical: #FF0000;
  --severity-high: #FFFF00;
  --severity-medium: #00BFFF;
  --severity-low: #00FF00;
}

.dark {
  --background: oklch(10% 0 0);
  --secondary-background: oklch(15% 0 0);
  --foreground: oklch(100% 0 0);
  --main-foreground: oklch(0% 0 0);
  --main: oklch(71.47% 0.129261 180.4742);
  --border: oklch(100% 0 0);
  --ring: oklch(100% 0 0);
  --shadow: 8px 8px 0px 0px var(--border);
  --shadow-sm: 4px 4px 0px 0px var(--border);
  --shadow-lg: 10px 10px 0px 0px var(--border);
  --chart-1: #00bda7;
  --chart-2: #008ae5;
  --chart-3: #7a83ff;
  --chart-4: #ff6669;
  --chart-5: #e0b700;
  --chart-active-dot: #fff;
  
  /* Brutalist severity colors */
  --severity-critical: #FF0000;
  --severity-high: #FFFF00;
  --severity-medium: #00BFFF;
  --severity-low: #00FF00;
}

@theme inline {
  --color-main: var(--main);
  --color-background: var(--background);
  --color-secondary-background: var(--secondary-background);
  --color-foreground: var(--foreground);
  --color-main-foreground: var(--main-foreground);
  --color-border: var(--border);
  --color-overlay: var(--overlay);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  --spacing-boxShadowX: 8px;
  --spacing-boxShadowY: 8px;
  --spacing-reverseBoxShadowX: -8px;
  --spacing-reverseBoxShadowY: -8px;
  --radius-base: 0px;
  --shadow-shadow: var(--shadow);
  --font-weight-base: 600;
  --font-weight-heading: 900;
}

@layer base {
  body {
    @apply text-foreground font-base bg-background;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading;
  }
}

@layer components {
  /* BRUTALIST CARD - sharp corners, thick borders, NO hover transform to prevent layout shift */
  .neo-card {
    @apply border-border bg-secondary-background text-foreground border-4;
    border-radius: 0;
    box-shadow: var(--shadow);
    transition: none;
  }

  /* INTERACTIVE CARD - use this for smaller cards that should have hover effects */
  .neo-card-interactive {
    @apply border-border bg-secondary-background text-foreground border-4;
    border-radius: 0;
    box-shadow: var(--shadow-sm);
    transition: box-shadow 0.1s ease-out;
  }

  .neo-card-interactive:hover {
    box-shadow: 3px 3px 0px 0px var(--border);
  }

  .neo-card-interactive:active {
    box-shadow: 1px 1px 0px 0px var(--border);
  }

  /* BRUTALIST PILL - heavier borders, bigger shadow */
  .neo-pill {
    @apply border-border bg-secondary-background text-foreground inline-flex items-center gap-1 rounded-full border-3 px-3 py-1 text-sm font-bold uppercase tracking-wide;
    box-shadow: 6px 6px 0px 0px var(--border);
  }

  /* BRUTALIST HERO - grid overlay + geometric color blocks */
  .neo-hero {
    background: #FFFFFF;
    position: relative;
    overflow: hidden;
  }

  .neo-hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: 
      /* Grid overlay */
      linear-gradient(rgba(0,0,0,0.06) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,0,0,0.06) 1px, transparent 1px),
      /* Geometric color blocks - sharp angles */
      linear-gradient(135deg, #FEF08A 0% 12%, transparent 12%),
      linear-gradient(315deg, #A5B4FC 0% 8%, transparent 8%),
      linear-gradient(225deg, #FCA5A5 0% 6%, transparent 6%);
    background-size: 40px 40px, 40px 40px, 100% 100%, 100% 100%, 100% 100%;
    pointer-events: none;
  }

  /* DANGER STRIPES - industrial warning pattern */
  .danger-stripes {
    background: repeating-linear-gradient(
      -45deg,
      #000000 0px,
      #000000 10px,
      #FFFF00 10px,
      #FFFF00 20px
    );
  }

  /* DANGER STRIPES THIN - for headers/accents */
  .danger-stripes-thin {
    background: repeating-linear-gradient(
      -45deg,
      #000000 0px,
      #000000 6px,
      #FFFF00 6px,
      #FFFF00 12px
    );
  }

  /* SEVERITY STAMP - rotated badge effect */
  .severity-stamp {
    @apply font-black uppercase tracking-wider;
    border-width: 3px;
    transform: rotate(-2deg);
  }

  /* SCAN LINES - subtle CRT effect */
  .scan-lines::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0,0,0,0.03) 2px,
      rgba(0,0,0,0.03) 4px
    );
    pointer-events: none;
  }

  /* GRID OVERLAY - engineering paper effect */
  .grid-overlay {
    background-image: 
      linear-gradient(rgba(0,0,0,0.08) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,0,0,0.08) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  /* BRUTALIST INPUT */
  .neo-input {
    @apply w-full border-4 border-black px-4 py-3 font-mono text-sm bg-white;
    box-shadow: 4px 4px 0px 0px #000;
    transition: box-shadow 0.1s ease-out;
  }

  .neo-input:focus {
    outline: none;
    box-shadow: 2px 2px 0px 0px #000;
  }

  /* BRUTALIST BUTTON */
  .neo-button {
    @apply border-4 border-black bg-white text-black font-bold uppercase tracking-wider px-6 py-3;
    box-shadow: 4px 4px 0px 0px #000;
    transition: box-shadow 0.1s ease-out;
  }

  .neo-button:hover {
    box-shadow: 3px 3px 0px 0px #000;
  }

  .neo-button:active {
    box-shadow: 1px 1px 0px 0px #000;
  }

  /* CRITICAL ALERT - with danger stripe header */
  .alert-critical {
    position: relative;
    overflow: hidden;
  }

  .alert-critical::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 8px;
    background: repeating-linear-gradient(
      -45deg,
      #000000 0px,
      #000000 8px,
      #FF0000 8px,
      #FF0000 16px
    );
  }

  /* ============================================
     PRESENTATION / ABOUT PAGE STYLES
     ============================================ */

  /* Presentation section - full viewport height */
  .presentation-section {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 4rem 2rem;
    position: relative;
  }

  /* Glitch text effect layers */
  .glitch-text {
    position: relative;
  }

  .glitch-text::before,
  .glitch-text::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.8;
  }

  .glitch-text::before {
    color: var(--chart-4);
    animation: glitch-1 0.3s infinite;
    clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
    transform: translate(-2px, -2px);
  }

  .glitch-text::after {
    color: var(--main);
    animation: glitch-2 0.3s infinite;
    clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
    transform: translate(2px, 2px);
  }

  @keyframes glitch-1 {
    0%, 100% { transform: translate(-2px, -2px); }
    25% { transform: translate(2px, 0); }
    50% { transform: translate(-1px, 2px); }
    75% { transform: translate(1px, -1px); }
  }

  @keyframes glitch-2 {
    0%, 100% { transform: translate(2px, 2px); }
    25% { transform: translate(-2px, 0); }
    50% { transform: translate(1px, -2px); }
    75% { transform: translate(-1px, 1px); }
  }

  /* Slam animation */
  @keyframes slam {
    0% { 
      transform: scale(0) rotate(-15deg); 
      opacity: 0; 
    }
    60% { 
      transform: scale(1.1) rotate(3deg); 
    }
    80% { 
      transform: scale(0.95) rotate(-1deg); 
    }
    100% { 
      transform: scale(1) rotate(0); 
      opacity: 1; 
    }
  }

  .animate-slam {
    animation: slam 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }

  /* Draw line animation for connectors */
  @keyframes draw-line {
    from { 
      stroke-dashoffset: 100%; 
      opacity: 0;
    }
    to { 
      stroke-dashoffset: 0; 
      opacity: 1;
    }
  }

  .animate-draw-line {
    animation: draw-line 0.5s ease-out forwards;
  }

  /* Typewriter cursor blink */
  @keyframes cursor-blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }

  .animate-cursor {
    animation: cursor-blink 0.8s step-end infinite;
  }

  /* Shake animation for emphasis */
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    10% { transform: translateX(-5px) rotate(-1deg); }
    20% { transform: translateX(5px) rotate(1deg); }
    30% { transform: translateX(-5px) rotate(-1deg); }
    40% { transform: translateX(5px) rotate(1deg); }
    50% { transform: translateX(-3px); }
    60% { transform: translateX(3px); }
    70% { transform: translateX(-2px); }
    80% { transform: translateX(2px); }
    90% { transform: translateX(-1px); }
  }

  .animate-shake {
    animation: shake 0.6s ease-in-out;
  }

  /* Pulse glow effect */
  @keyframes pulse-glow {
    0%, 100% { 
      box-shadow: var(--shadow), 0 0 0 0 var(--main);
    }
    50% { 
      box-shadow: var(--shadow), 0 0 20px 5px var(--main);
    }
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  /* Reveal from left */
  @keyframes reveal-left {
    from {
      clip-path: inset(0 100% 0 0);
    }
    to {
      clip-path: inset(0 0 0 0);
    }
  }

  .animate-reveal-left {
    animation: reveal-left 0.6s ease-out forwards;
  }

  /* Stagger children utility */
  .stagger-children > * {
    opacity: 0;
    transform: translateY(20px);
  }

  .stagger-children.animate > *:nth-child(1) { animation: fade-up 0.4s 0.1s forwards; }
  .stagger-children.animate > *:nth-child(2) { animation: fade-up 0.4s 0.2s forwards; }
  .stagger-children.animate > *:nth-child(3) { animation: fade-up 0.4s 0.3s forwards; }
  .stagger-children.animate > *:nth-child(4) { animation: fade-up 0.4s 0.4s forwards; }
  .stagger-children.animate > *:nth-child(5) { animation: fade-up 0.4s 0.5s forwards; }
  .stagger-children.animate > *:nth-child(6) { animation: fade-up 0.4s 0.6s forwards; }

  @keyframes fade-up {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Brutalist marquee text */
  @keyframes marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }

  .animate-marquee {
    animation: marquee 20s linear infinite;
  }

  /* Hard flash effect */
  @keyframes hard-flash {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }

  .animate-hard-flash {
    animation: hard-flash 0.1s step-end 3;
  }

  /* Scan line overlay for retro effect */
  .presentation-scan-lines::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.015) 2px,
      rgba(0, 0, 0, 0.015) 4px
    );
    pointer-events: none;
    z-index: 9999;
  }

  /* Number counter style */
  .number-counter {
    font-variant-numeric: tabular-nums;
    font-feature-settings: "tnum";
  }

  /* Code block styling */
  .code-block {
    @apply font-mono text-sm;
    tab-size: 2;
  }

  .code-block .keyword { color: var(--main); font-weight: bold; }
  .code-block .string { color: var(--chart-5); }
  .code-block .comment { color: var(--chart-2); opacity: 0.6; }
  .code-block .decorator { color: var(--chart-3); }
  .code-block .function { color: var(--chart-4); }

  /* Dark mode grid overlay */
  .dark .grid-overlay {
    background-image: 
      linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
  }

  /* Responsive typography for presentation */
  @media (max-width: 768px) {
    .presentation-title {
      font-size: 3rem;
    }
  }

  @media (max-width: 480px) {
    .presentation-title {
      font-size: 2rem;
    }
  }
}
